<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.thinkjoy.saas.dao.web.ISelectCourseDAO">

    <update id="bindingSchool" parameterType="java.util.Map" >
        update zgk2.zgk_user_info
        set isBinding=#{isBinding},studentNo=#{studentNo}
        where id=#{id}
    </update>

    <select id="hasStudent" parameterType="java.util.Map" resultType="java.lang.Integer">
        select count(*) from ${tableName} t where t.student_no=#{studentNo} and t.student_name=#{studentName}
    </select>

    <select id="getStudentInfo" parameterType="java.util.Map" resultType="java.util.Map">
        select * from ${tableName} t where t.student_no=#{studentNo}
    </select>

    <select id="getSelectCourseInfo" parameterType="java.util.Map" resultType="cn.thinkjoy.saas.domain.SelectCourseTask">
        select tt.state,tt.startTime,tt.endTime
        from saas_select_course_task tt
        where tt.tnId=#{tnId} and status=0 and tt.grade=#{grade};
    </select>

</mapper>

